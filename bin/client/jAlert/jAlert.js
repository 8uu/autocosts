!function(e){var t;Date.now||(Date.now=function(){return+new Date}),e.fn.jAlert=function(t){e("body").focus(),e("body").blur();var n={xsmall:"xsm",small:"sm",medium:"md",large:"lg",xlarge:"xlg"},o=[],i=["animated"],a=[];if(this.length>1)return this.each(function(){e.fn.jAlert(t)}),this;if(void 0!==e(this)[0]&&"undefined"!=e(this)[0].jAlert)return e(this)[0].jAlert;if(e.each(e.fn.jAlert.defaults,function(e,n){var o=e.toLowerCase();void 0!==t[o]&&(t[e]=t[o])}),(t=e.extend({},e.fn.jAlert.defaults,t)).id)r=t.id;else var r="ja_"+(Date.now().toString()+Math.floor(1e5*Math.random()));var s={set:function(e,t){return s[e]=t,s},__set:function(e,t){return s.set(e,t)},get:function(e){return s[e]},__get:function(e){return s.get(e)},centerAlert:function(){var t=e(window).height()-s.instance.height(),n=t/2;return n=(n=n>200?n-100:n)<=0?0:n,n-=1,s.instance.css("margin-top",n+"px"),s.instance.css("margin-bottom","0px"),e("body").css("overflow","hidden"),t>5?s.instance.parents(".ja_wrap").css("position","fixed"):(s.instance.parents(".ja_wrap").css("position","absolute"),e("html, body").animate({scrollTop:top-50},200)),s},animateAlert:function(t){return"hide"==t?(s.instance.jAlert().blurBackground&&e("body").removeClass("ja_blur"),s.instance.removeClass(s.showAnimation).addClass(s.hideAnimation)):(s.instance.jAlert().blurBackground&&e("body").addClass("ja_blur"),s.centerAlert(),s.instance.addClass(s.showAnimation).removeClass(s.hideAnimation).show()),s},closeAlert:function(t,n){return 0!=t&&(t=!0),s.instance&&(s.instance.unbind("DOMSubtreeModified"),s.animateAlert("hide"),window.setTimeout(function(){var o=s.instance.parents(".ja_wrap");t?o.remove():o.hide(),"function"==typeof n?n(s.instance):"function"==typeof s.onClose&&s.onClose(s.instance),e(".jAlert:visible").length>0?e(".jAlert:visible:last").jAlert().centerAlert():e("body").css("overflow","auto")},s.animationTimeout)),s},showAlert:function(t,n,o,i){0!=t&&(t=!0),!1!==n&&(n=!0),t&&e(".jAlert:visible").jAlert().closeAlert(n);var a=s.instance.parents(".ja_wrap");return e("body").append(a),s.animateAlert("show"),"function"==typeof i&&(s.onClose=i),window.setTimeout(function(){"function"==typeof o&&o(s.instance)},s.animationTimeout),s}};if(e.each(t,function(e,t){s.set(e,t)}),s.set("id",r),s.content&&0===s.content.indexOf("#")&&e(s.content).length>0&&(s.content=e(s.content).html()),s.video&&s.video.indexOf("youtube.com/watch?v=")>-1&&-1===s.video.indexOf("embed")&&(s.video=s.video.replace("watch?v=","embed/")),"confirm"==s.type&&(s.content||(s.content=s.confirmQuestion),s.btns=[{text:s.confirmBtnText,theme:"green",class:"confirmBtn",closeAlert:!0,onClick:s.onConfirm},{text:s.denyBtnText,theme:"red",class:"denyBtn",closeAlert:!0,onClick:s.onDeny}],s.autofocus=s.confirmAutofocus),s.color&&(s.theme=s.color),-1==e.inArray(s.theme,["default","green","dark_green","red","dark_red","black","brown","gray","dark_gray","blue","dark_blue","yellow"]))return console.log("jAlert Config Error: Invalid theme selection."),!1;if(i.push("ja_"+s.theme),s.class&&i.push(s.class),s.classes&&i.push(s.classes),s.fullscreen&&i.push("ja_fullscreen"),s.noPadContent&&i.push("ja_no_pad"),s.title||i.push("ja_noTitle"),s.width&&(s.size=s.width),s.size&&"object"==typeof s.size&&(void 0===s.size.width||void 0===s.size.height))return console.log("jAlert Config Error: Invalid size selection (try a preset or make sure you're including height and width in your size object)."),!1;if(s.size?"object"==typeof s.size?(o.push("width: "+s.size.width+";"),o.push("height: "+s.size.height+";"),i.push("ja_setheight")):(void 0!==n[s.size]&&(s.size=n[s.size]),e.inArray(s.size,["xsm","sm","md","lg","xlg","full","auto"])>-1?i.push("ja_"+s.size):o.push("width: "+s.size+";")):i.push("ja_sm"),-1==e.inArray(s.backgroundColor,["white","black"]))return console.log("jAlert Config Error: Invalid background color selection."),!1;a.push("ja_wrap_"+s.backgroundColor),s.onOpen=[s.onOpen];var l="<div class='ja_loader'>Loading...</div>";s.picture&&(s.image=s.picture),s.image?(s.content="<div class='ja_media_wrap'>"+l+"<img src='"+s.image+"' class='ja_img' onload='$.fn.jAlert.mediaLoaded($(this))''",s.imageWidth&&(s.content+=" style='width: "+s.imageWidth+"'"),s.content+="></div>"):s.video?(s.content="<div class='ja_media_wrap'>"+l+"<div class='ja_video'></div></div>",s.onOpen.unshift(function(t){var n=document.createElement("iframe");n.src=t.jAlert().video,n.addEventListener?n.addEventListener("load",function(){e.fn.jAlert.mediaLoaded(e(this))},!0):n.attachEvent?n.attachEvent("onload",function(){e.fn.jAlert.mediaLoaded(e(this))}):n.onload=function(){e.fn.jAlert.mediaLoaded(e(this))},t.find(".ja_video").append(n)})):s.iframe?(s.iframeHeight||(s.iframeHeight=e(window).height()+"px"),s.content="<div class='ja_media_wrap'>"+l+"</div>",s.onOpen.unshift(function(t){var n=document.createElement("iframe");n.src=t.jAlert().iframe,n.className="ja_iframe",n.addEventListener?n.addEventListener("load",function(){e.fn.jAlert.mediaLoaded(e(this))},!0):n.attachEvent?n.attachEvent("onload",function(){e.fn.jAlert.mediaLoaded(e(this))}):n.onload=function(){e.fn.jAlert.mediaLoaded(e(this))},t.find(".ja_media_wrap").append(n)})):s.ajax&&(s.content="<div class='ja_media_wrap'>"+l+"</div>",onAjaxCallbacks=s.onOpen,s.onOpen=[function(t){e.ajax(t.jAlert().ajax,{async:!0,complete:function(n,o){t.find(".ja_media_wrap").replaceWith(n.responseText),e.each(onAjaxCallbacks,function(e,n){n(t)})},error:function(e,n,o){s.onAjaxFail(t,"Error getting content: Code: "+e.status+" : Msg: "+e.statusText)}})}]);var c=function(t){if(void 0===t.href&&(t.href=""),void 0===t.class&&(t.class=""),void 0===t.theme?t.class+=" ja_btn_default":t.class+=" ja_btn_"+t.theme,void 0===t.text&&(t.text=""),void 0===t.id){var n=Date.now().toString()+Math.floor(1e5*Math.random());t.id="ja_btn_"+n}return void 0===t.target&&(t.target="_self"),void 0===t.closeAlert&&(t.closeAlert=!0),e("body").off("click","#"+t.id),e("body").on("click","#"+t.id,function(n){var o=e(this);t.closeAlert&&o.parents(".jAlert").jAlert().closeAlert();var i=!0;return"function"==typeof t.onClick&&(i=t.onClick(n,o)),!i||t.closeAlert?(n.preventDefault(),!1):i}),"<a href='"+t.href+"' id='"+t.id+"' target='"+t.target+"' class='ja_btn "+t.class+"'>"+t.text+"</a> "},d=function(t){var n="";n+='<div class="ja_wrap '+a.join(" ")+'"><div class="jAlert '+i.join(" ")+'" style="'+o.join(" ")+'" id="'+s.id+'"><div>',s.closeBtn&&(n+="<div class='closejAlert ja_close",s.closeBtnAlt?n+=" ja_close_alt":s.closeBtnRoundWhite?n+=" ja_close_round_white":s.closeBtnRound&&(n+=" ja_close_round"),n+="'>&times;</div>"),s.title&&(n+="<div class='ja_title'><div>"+s.title+"</div></div>"),n+='<div class="ja_body">'+t,s.btns&&(n+='<div class="ja_btn_wrap ',s.btnBackground&&(n+="optBack"),n+='">'),"object"==typeof s.btns[0]?e.each(s.btns,function(e,t){"object"==typeof t&&(n+=c(t))}):"object"==typeof s.btns?n+=c(s.btns):s.btns&&console.log("jAlert Config Error: Incorrect value for btns (must be object or array of objects): "+s.btns),s.btns&&(n+="</div>");var r=e(n+="</div></div></div></div>");s.replaceOtherAlerts&&e(".jAlert:visible").each(function(){e(this).jAlert().closeAlert()});return e("body").append(r),s.instance=e("#"+s.id),s.instance[0].jAlert=s,e("body").css("overflow","hidden"),s.animateAlert("show"),s.closeBtn&&s.instance.on("click",".closejAlert",function(t){return t.preventDefault(),e(this).parents(".jAlert:first").jAlert().closeAlert(),!1}),s.closeOnClick&&(e(document).off("mouseup touchstart",e.fn.jAlert.onMouseUp),e(document).on("mouseup touchstart",e.fn.jAlert.onMouseUp)),s.closeOnEsc&&(e(document).off("keydown",e.fn.jAlert.onEscKeyDown),e(document).on("keydown",e.fn.jAlert.onEscKeyDown)),s.onOpen&&e.each(s.onOpen,function(e,t){t(s.instance)}),s.autofocus?s.instance.find(s.autofocus).focus():s.instance.focus(),s.instance.bind("DOMSubtreeModified",function(){s.centerAlert()}),s.instance};return this.initialize=function(){return s.content||s.image||s.video||s.iframe||s.ajax?(s.content||(s.content=""),d(s.content)):(console.log("jAlert potential error: No content defined"),d(""))},this.initialize(),s},e.fn.jAlert.defaults={title:!1,content:!1,noPadContent:!1,fullscreen:!1,image:!1,imageWidth:"auto",video:!1,ajax:!1,onAjaxFail:function(e,t){e.jAlert().closeAlert(),errorAlert(t)},iframe:!1,iframeHeight:!1,class:"",classes:"",id:!1,showAnimation:"fadeInUp",hideAnimation:"fadeOutDown",animationTimeout:600,theme:"default",backgroundColor:"black",blurBackground:!1,size:!1,replaceOtherAlerts:!1,closeOnClick:!1,closeOnEsc:!0,closeBtn:!0,closeBtnAlt:!1,closeBtnRound:!0,closeBtnRoundWhite:!1,btns:!1,btnBackground:!0,autofocus:!1,onOpen:function(e){return!1},onClose:function(e){return!1},type:"modal",confirmQuestion:"Are you sure?",confirmBtnText:"Yes",denyBtnText:"No",confirmAutofocus:".confirmBtn",onConfirm:function(e,t){return e.preventDefault(),console.log("confirmed"),!1},onDeny:function(e,t){return e.preventDefault(),!1}},e.fn.jAlert.onMouseUp=function(t){var n=t.target?t.target:t.srcElement,o=e(".jAlert:visible:last");o.length>0&&o.jAlert().closeOnClick&&(e(n).is(".jAlert *")||o.jAlert().closeAlert())},e.fn.jAlert.onEscKeyDown=function(t){if(27===t.keyCode){var n=e(".jAlert:visible:last");n.length>0&&n.jAlert().closeOnEsc&&n.jAlert().closeAlert()}},e.fn.attachjAlert=function(t){return t.preventDefault(),e.jAlert(e(this).data()),!1},e.jAlert=function(t){if("current"==t){var n=e(".jAlert:visible:last");return n.length>0&&n.jAlert()}return"attach"==t?(e("[data-jAlert]").off("click",e.fn.attachjAlert),e("[data-jAlert]").on("click",e.fn.attachjAlert),e("[data-jalert]").off("click",e.fn.attachjAlert),e("[data-jalert]").on("click",e.fn.attachjAlert),!1):e.fn.jAlert(t)},e.fn.alertOnClick=function(t){e(this).on("click",function(n){return n.preventDefault(),e.jAlert(t),!1})},e.alertOnClick=function(t,n){e("body").on("click",t,function(t){return t.preventDefault(),e.jAlert(n),!1})},e.fn.closeAlert=function(t,n){e(this).jAlert().closeAlert(t,n)},e(window).resize(function(){window.clearTimeout(t),t=window.setTimeout(function(){e(".jAlert:visible").each(function(){e(this).jAlert().centerAlert()})},200)}),e.fn.jAlert.mediaLoaded=function(e){var t=e.parents(".ja_media_wrap"),n=t.find(".ja_video"),o=e.parents(".jAlert:first").jAlert();t.find(".ja_loader").remove(),n.length>0?n.fadeIn("fast"):e.fadeIn("fast"),void 0!==o.iframeHeight&&o.iframeHeight&&(e.css("display","block"),e.height(o.iframeHeight)),o.centerAlert()}}(jQuery);